{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": [
    "config:recommended"
  ],
  "lockFileMaintenance": {
    "enabled": true,
    "recreateWhen": "always",
    "rebaseStalePrs": true,
    "branchTopic": "lock-file-maintenance",
    "commitMessageAction": "Lock file maintenance",
    "schedule": [
      "before 4am on monday"
    ],
    "groupName": null,
    "prBodyDefinitions": {
      "Change": "All locks refreshed"
    }
  },
  "ignoreDeps": [
    "husky",
    "node",
    "php",
    "engines"
  ],
  "labels": [
    "type: dependencies",
    "maintenance"
  ],
  "prBodyTemplate": "{{{header}}}{{{table}}}{{{warnings}}}{{{notes}}}{{{changelogs}}}{{{controls}}}{{{footer}}}",
  "prFooter": "Automated PR generated by [Renovate Bot](https://github.com/renovatebot/renovate) based on this [Linchpin Config](https://github.com/linchpin/renovatebot-config)",
  "baseBranches": [
    "/^maintenance\\/.*/"
  ],
  "packageRules": [
    {
      "commitMessagePrefix": "build(DEP): [Project] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Node/npm Dependencies",
      "groupSlug": "maintenance-node",
      "description": "Only update the build process dependencies when a major update is available.",
      "labels": [
        "npm",
        "maintenance",
        "build"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "npm"
      ],
      "matchFileNames": [
        "package.json"
      ],
      "matchPackageNames": [
        "/^node$/",
        "/^npm/",
        "/^engines$/"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}build(DEP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "build(DEP): [Project] ",
      "groupName": "npm Dependencies",
      "groupSlug": "maintenance-npm",
      "description": "Update the build process dependencies when a minor, patch, pin, or digest update is available.",
      "labels": [
        "npm",
        "maintenance",
        "build"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "npm"
      ],
      "matchFileNames": [
        "package.json"
      ],
      "matchPackageNames": [
        "!/^node$/",
        "!/^engines$/"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}build(DEP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "platform(DEP): [Project] ",
      "commitMessageSuffix": " - Major",
      "groupName": "PHP Release",
      "groupSlug": "maintenance-php-release",
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchPackageNames": [
        "/^php$/",
        "!/^wpackagist/",
        "!/^linchpin/"
      ],
      "labels": [
        "composer",
        "maintenance",
        "build"
      ],
      "automerge": false,
      "matchFileNames": [
        "composer.json"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}platform(DEP): {{{depName}}} from `{{{upgrade.currentValue}}}` to `{{{upgrade.newValue}}}`\n{{/each}}"
    },
    {
      "commitMessagePrefix": "platform(DEP): [Project] ",
      "groupName": "Composer Dependencies",
      "groupSlug": "maintenance-composer-major",
      "labels": [
        "composer",
        "maintenance",
        "build"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchPackageNames": [
        "!/^wpackagist/",
        "!/^linchpin/"
      ],
      "matchFileNames": [
        "composer.json"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}platform(DEP): {{{depName}}} from `{{{upgrade.currentValue}}}` to `{{{upgrade.newValue}}}`\n{{/each}}"
    },
    {
      "commitMessagePrefix": "build(DEP): [Project] ",
      "groupName": "Composer Dependencies",
      "groupSlug": "maintenance-composer-minor",
      "labels": [
        "composer",
        "maintenance",
        "build"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchPackageNames": [
        "!/^php$",
        "!/^wpackagist/",
        "!/^linchpin/"
      ],
      "matchFileNames": [
        "composer.json"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}build(DEP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(NPM): [WordPress] ",
      "groupName": "Custom Theme(s) npm Dependencies",
      "commitMessageSuffix": " - Major",
      "groupSlug": "maintenance-wordpress-custom-themes-npm-major",
      "matchFileNames": [
        "themes/**/package.json"
      ],
      "matchPackageNames": [
        "!/^node$/",
        "!/^engines$/"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "npm"
      ],
      "labels": [
        "npm",
        "wordpress",
        "themes",
        "maintenance"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption",
        "Passing",
        "Confidence"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}deps(NPM): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(NPM): [WordPress] ",
      "groupName": "Custom Theme(s) npm Dependencies",
      "groupSlug": "maintenance-wordpress-custom-themes-npm-minor",
      "labels": [
        "npm",
        "wordpress",
        "themes",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "npm"
      ],
      "matchFileNames": [
        "themes/**/package.json"
      ],
      "matchPackageNames": [
        "!/^node$/",
        "!/^engines$/"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption",
        "Passing",
        "Confidence"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}deps(NPM): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(NPM): [WordPress] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Custom Plugin(s) npm Dependencies",
      "groupSlug": "maintenance-wordpress-custom-plugins-npm-major",
      "labels": [
        "npm",
        "wordpress",
        "plugins",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "npm"
      ],
      "matchFileNames": [
        "plugins/**/package.json"
      ],
      "matchPackageNames": [
        "!/^node$/",
        "!/^engines$/"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption",
        "Passing",
        "Confidence"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}deps(NPM): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(NPM): [WordPress] - ",
      "groupName": "Custom Plugin(s) npm Dependencies",
      "groupSlug": "maintenance-wordpress-custom-plugins-npm-minor",
      "labels": [
        "npm",
        "wordpress",
        "plugins",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "npm"
      ],
      "matchFileNames": [
        "plugins/**/package.json"
      ],
      "matchPackageNames": [
        "!node"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}chore(NO-TASK): {{{depName}}} from `{{{upgrade.currentValue}}}` to `{{{upgrade.newValue}}}`\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(CMP): [WordPress] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Custom Theme(s) Composer Dependencies",
      "groupSlug": "maintenance-wordpress-custom-themes-composer-major",
      "labels": [
        "composer",
        "wordpress",
        "themes",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchFileNames": [
        "themes/**/composer.json"
      ],
      "matchPackageNames": [
        "!/^php$/"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}deps(CMP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(CMP): [WordPress] ",
      "groupName": "Custom Theme(s) Composer Dependencies",
      "groupSlug": "maintenance-wordpress-custom-themes-composer-minor",
      "labels": [
        "composer",
        "wordpress",
        "themes",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchFileNames": [
        "themes/**/composer.json"
      ],
      "matchPackageNames": [
        "!/^php$/"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption"
      ],
      "automerge": false,
      "commitBody": "{{#each upgrades as |upgrade|}}deps(CMP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(CMP): [WordPress] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Custom Plugin(s) Composer Dependencies",
      "groupSlug": "maintenance-wordpress-custom-plugins-composer-major",
      "labels": [
        "composer",
        "wordpress",
        "plugins",
        "maintenance"
      ],
      "automerge": false,
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchFileNames": [
        "plugins/**/composer.json"
      ],
      "matchPackageNames": [
        "!php"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}deps(CMP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "deps(CMP): [WordPress] ",
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchManagers": [
        "composer"
      ],
      "labels": [
        "composer",
        "wordpress",
        "plugins",
        "maintenance"
      ],
      "groupName": "Custom Plugin(s) Composer Dependencies",
      "groupSlug": "maintenance-wordpress-custom-plugins-composer-minor",
      "automerge": false,
      "matchFileNames": [
        "plugins/**/composer.json"
      ],
      "matchPackageNames": [
        "!php"
      ],
      "prBodyColumns": [
        "Package",
        "Change",
        "Age",
        "Adoption"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}deps(CMP): {{{depName}}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "update(THEME): [WordPress] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Themes packagist.linchpin.com and wordpress.org",
      "groupSlug": "maintenance-wordpress-themes-composer-major",
      "labels": [
        "wordpress",
        "composer",
        "maintenance",
        "major"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchPackageNames": [
        "wpackagist-theme/**",
        "linchpin/**theme"
      ],
      "prBodyColumns": [
        "Package",
        "Change"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}update(THEME): {{{replace '-' ' ' {{ lookup (split depName '-') 1 }} }}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "update(THEME): [WordPress] ",
      "groupName": "Themes packagist.linchpin.com and wordpress.org",
      "groupSlug": "maintenance-wordpress-themes-composer-minor",
      "labels": [
        "wordpress",
        "composer",
        "maintenance",
        "themes",
        "minor"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchPackageNames": [
        "wpackagist-theme/**",
        "linchpin/**theme"
      ],
      "prBodyColumns": [
        "Package",
        "Change"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}update(THEME): {{{replace '-' ' ' {{ lookup (split depName '-') 1 }} }}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "update(PLUGIN): [WordPress] ",
      "commitMessageSuffix": " - Major",
      "groupName": "Plugins packagist.linchpin.com and wordpress.org",
      "groupSlug": "maintenance-wordpress-plugins-composer-major",
      "labels": [
        "wordpress",
        "composer",
        "maintenance"
      ],
      "matchUpdateTypes": [
        "major"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchPackageNames": [
        "wpackagist-plugin/**",
        "linchpin/**"
      ],
      "prBodyColumns": [
        "Package",
        "Change"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}update(PLUGIN): {{{replace '-' ' ' {{ lookup (split depName '-') 1 }} }}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    },
    {
      "commitMessagePrefix": "update(PLUGIN): [WordPress] ",
      "groupName": "Plugins packagist.linchpin.com and wordpress.org",
      "groupSlug": "maintenance-wordpress-plugins-composer-minor",
      "labels": [
        "wordpress",
        "composer",
        "maintenance",
        "plugins",
        "minor"
      ],
      "matchManagers": [
        "composer"
      ],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest"
      ],
      "matchPackageNames": [
        "wpackagist-plugin/**",
        "linchpin/**"
      ],
      "prBodyColumns": [
        "Package",
        "Change"
      ],
      "commitBody": "{{#each upgrades as |upgrade|}}update(PLUGIN): {{{replace '-' ' ' {{ lookup (split depName '-') 1 }} }}} from {{{upgrade.currentValue}}} to {{{upgrade.newValue}}}\n{{/each}}"
    }
  ]
}
